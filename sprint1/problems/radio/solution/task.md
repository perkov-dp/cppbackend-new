–ó–∞–¥–∞–Ω–∏–µ 1 ‚Äî –†–∞—Ü–∏—è –Ω–∞ UDP
–í–æ–∑—å–º–∏—Ç–µ –∑–∞–≥–æ—Ç–æ–≤–∫—É –∫–æ–¥–∞ –∏–∑ –ø–∞–ø–∫–∏ sprint1/problems/radio —Å–≤–æ–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
–í –Ω–µ–π –≤—ã –Ω–∞–π–¥—ë—Ç–µ –≥–æ—Ç–æ–≤—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É, –∑–∞–ø–∏—Å—ã–≤–∞—é—â—É—é –∑–≤—É–∫ —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –∏ —Å—Ä–∞–∑—É –∂–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—â—É—é –µ–≥–æ.
–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—É–¥–∏–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ miniaudio, –¥–æ—Å—Ç—É–ø–Ω–∞—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Conan.
–í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –∑–∞–≥–æ—Ç–æ–≤–∫—É –∏ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –∑–≤—É–∫ –∑–∞–ø–∏—Å—ã–≤–∞–ª—Å—è –Ω–∞ –æ–¥–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞–ª—Å—è –ø–æ UDP –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–ª—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
–í –∑–∞–≥–æ—Ç–æ–≤–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–∏–º–∞–µ—Ç ENTER. –í –≤–∞—à–µ–º —Ä–µ—à–µ–Ω–∏–∏ –æ–Ω –¥–æ–ª–∂–µ–Ω –≤–≤–µ—Å—Ç–∏ IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –∫–∞–∂–¥–æ–≥–æ –∞—É–¥–∏–æ—Å–æ–æ–±—â–µ–Ω–∏—è.
–ö–ª–∏–µ–Ω—Ç –∏ —Å–µ—Ä–≤–µ—Ä –±—É–¥—É—Ç –æ–¥–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
—Å–ª–æ–≤–æ client –ª–∏–±–æ server,
—Ä–∞–±–æ—á–∏–π –ø–æ—Ä—Ç, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.
üí° –ü—Ä–æ—Ü–µ—Å—Å –æ—Ü–∏—Ñ—Ä–æ–≤–∫–∏ –∑–≤—É–∫–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–µ–π. –ü—Ä–∏ —ç—Ç–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä–µ –∞–Ω–∞–ª–æ–≥–æ–≤—ã–π –∑–≤—É–∫–æ–≤–æ–π —Å–∏–≥–Ω–∞–ª –∏–∑–º–µ—Ä—è–µ—Ç—Å—è –º–Ω–æ–≥–æ —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É. –ö–∞–∂–¥–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è —á–∏—Å–ª–æ–º, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è ¬´—Å–µ–º–ø–ª¬ª. –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–º–µ—Ä–µ–Ω–∏–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–¥–Ω–æ–º—É –º–æ–º–µ–Ω—Ç—É –≤—Ä–µ–º–µ–Ω–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–≤–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ —Å—Ç–µ—Ä–µ–æ), —Ç–æ —ç—Ç–æ—Ç –Ω–∞–±–æ—Ä —Å–µ–º–ø–ª–æ–≤ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—Ä–µ–π–º–æ–º. –ù–∞–∏–±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏ ‚Äî 48000 —Ñ—Ä–µ–π–º–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É. –°–æ–≥–ª–∞—Å–Ω–æ —Ç–µ–æ—Ä–µ–º–µ –ö–æ—Ç–µ–ª—å–Ω–∏–∫–æ–≤–∞-–®–µ–Ω–Ω–æ–Ω–∞, –æ–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–∏–≥–Ω–∞–ª—ã —á–∞—Å—Ç–æ—Ç–æ–π –¥–æ 24000 –ì—Ü. –¢–∞–∫–∂–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏ 44100 —Ñ—Ä–µ–π–º–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É. –¢–∞–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏ –≤ –≤–∞—à–µ–π —Ä–∞—Ü–∏–∏.
–ó–∞ –æ–¥–∏–Ω —Ä–∞–∑ —Ä–∞—Ü–∏—è —á–∏—Ç–∞–µ—Ç 65000 8-–±–∏—Ç–Ω—ã—Ö —Ñ—Ä–µ–π–º–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –º–æ–Ω–æ. –≠—Ç–æ —á—É—Ç—å –º–µ–Ω—å—à–µ, —á–µ–º –ø–æ–ª—Ç–æ—Ä—ã —Å–µ–∫—É–Ω–¥—ã –∑–≤—É–∫–∞. –ü–æ–ª—É—á–∞–µ—Ç—Å—è –≤–µ–∫—Ç–æ—Ä –∏–∑ 65000 –±–∞–π—Ç. –ï–≥–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –æ–¥–Ω–æ–π –¥–∞—Ç–∞–≥—Ä–∞–º–º–æ–π. –§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ—Ç —Ä–µ–∫–æ—Ä–¥–µ—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω–æ –º–µ–Ω—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç, –ø–æ—ç—Ç–æ–º—É —Å–ª–µ–¥—É–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å –¥–ª–∏–Ω—É —Å–æ–æ–±—â–µ–Ω–∏—è.
–î–ª—è —á—Ç–µ–Ω–∏—è –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∑–≤—É–∫–∞ –≤ —Ñ–∞–π–ª–µ audio.h –µ—Å—Ç—å –∫–ª–∞—Å—Å—ã Recorder –∏ Player. –í–∞–º –±—É–¥—É—Ç –ø–æ–ª–µ–∑–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:
–ú–µ—Ç–æ–¥ Record –∫–ª–∞—Å—Å–∞ Recorder. –ü–æ–ª—É—á–∞–µ—Ç –∑–≤—É–∫ —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ –≤–∏–¥–µ vector<char>. –¢–∞–∫–∂–µ –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Ñ—Ä–µ–π–º–æ–≤. –ú–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—Ä–µ–π–º–æ–≤ –¥–ª—è –∑–∞–ø–∏—Å–∏ –∏ –≤—Ä–µ–º—è –∑–∞–ø–∏—Å–∏.
–ú–µ—Ç–æ–¥ PlayBuffer –∫–ª–∞—Å—Å–∞ Player. –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ –∏–∑ vector<char>. –í –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤–µ–∫—Ç–æ—Ä —Å–µ–º–ø–ª–æ–≤, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—Ä–µ–π–º–æ–≤ –∏ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
–í–∫–ª—é—á–∞–π—Ç–µ —Ñ–∞–π–ª audio.h –ø–µ—Ä–≤—ã–º. –ò–∑-–∑–∞ –ø–ª–æ—Ö–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –û–° –≤–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –¥—Ä—É–≥–æ–º –ø–æ—Ä—è–¥–∫–µ –≤–∫–ª—é—á–µ–Ω–∏—è.
–ù–µ –º–µ–Ω—è–π—Ç–µ —Ñ–∞–π–ª audio.h.
–í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∫–ª–∞—Å—Å–æ–≤ Recorder –∏ Player –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ma_format_u8, 1, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç 8-–±–∏—Ç–Ω—ã–µ –º–æ–Ω–æ-—Å–µ–º–ø–ª—ã.
–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –ø—Ä–∏—ë–º –¥–∞—Ç–∞–≥—Ä–∞–º–º –∏ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç—É. –ö–ª–∏–µ–Ω—Ç —Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ.
–í –¥–∞–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–≥–æ —Ñ—Ä–µ–π–º–∞ ‚Äî –æ–¥–∏–Ω –±–∞–π—Ç, –ø–æ—ç—Ç–æ–º—É –¥–ª–∏–Ω–∞ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–≤–Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ñ—Ä–µ–π–º–æ–≤. –ù–µ –ø–æ–ª–∞–≥–∞–π—Ç–µ—Å—å –Ω–∞ —ç—Ç–æ, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –ø—Ä–∏ —Ñ—Ä–µ–π–º–∞—Ö –¥—Ä—É–≥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞.
–ö–∞–∫ –±—É–¥–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º—ã –¥–æ–≤–µ—Ä—è–µ–º –≤–∞–º. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç –∏ —Å–µ—Ä–≤–µ—Ä –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö –∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞—É–¥–∏–æ—Å–æ–æ–±—â–µ–Ω–∏–π.

–ü–æ–¥—Å–∫–∞–∑–∫–∏

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö void StartServer(uint16_t port) –∏ void StartClient(uint16_t port).
–í—ã—á–∏—Å–ª–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å: —É–º–Ω–æ–∂—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—Ä–µ–π–º–æ–≤, –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –æ—Ç –∫–ª–∞—Å—Å–∞ Recorder, –Ω–∞ —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–≥–æ —Ñ—Ä–µ–π–º–∞, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥–æ–º GetFrameSize() —ç—Ç–æ–≥–æ –∂–µ –∫–ª–∞—Å—Å–∞. –ë—É–¥—å—Ç–µ –≥–æ—Ç–æ–≤—ã –∫ —Ç–æ–º—É, —á—Ç–æ —Ä–∞–∑–º–µ—Ä —Ñ—Ä–µ–π–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ä–∞–≤–µ–Ω –æ–¥–Ω–æ–º—É –±–∞–π—Ç—É.
–í—ã—á–∏—Å–ª–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—Ä–µ–π–º–æ–≤ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏: —Ä–∞–∑–¥–µ–ª–∏—Ç–µ –µ–≥–æ –¥–ª–∏–Ω—É –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –º–µ—Ç–æ–¥–æ–º GetFrameSize() –∫–ª–∞—Å—Å–∞ Player.
–í—ã –º–æ–∂–µ—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞—Ç—å boost::asio::buffer –∏–∑ –≤–µ–∫—Ç–æ—Ä–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–¥–∞—á–∏ —Å–µ–º–ø–ª–æ–≤.
